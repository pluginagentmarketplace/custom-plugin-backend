# Redis Configuration Template for Production
# Optimize based on your workload

# Connection settings
connection:
  host: "localhost"
  port: 6379
  password: "${REDIS_PASSWORD}"
  db: 0
  max_connections: 100
  connection_timeout: 5
  socket_timeout: 5

# Caching defaults
cache:
  default_ttl: 3600  # 1 hour
  user_profile_ttl: 1800  # 30 min
  session_ttl: 86400  # 24 hours
  api_response_ttl: 300  # 5 min

# Memory management
memory:
  maxmemory: "1gb"
  maxmemory_policy: "allkeys-lru"  # Evict least recently used

# Persistence (production)
persistence:
  save:
    - seconds: 900
      changes: 1
    - seconds: 300
      changes: 10
    - seconds: 60
      changes: 10000
  appendonly: true
  appendfsync: "everysec"

# Sentinel (high availability)
sentinel:
  enabled: false
  master_name: "mymaster"
  sentinels:
    - host: "sentinel1"
      port: 26379
    - host: "sentinel2"
      port: 26379
    - host: "sentinel3"
      port: 26379

# Cluster (horizontal scaling)
cluster:
  enabled: false
  nodes:
    - "redis-node1:6379"
    - "redis-node2:6379"
    - "redis-node3:6379"
